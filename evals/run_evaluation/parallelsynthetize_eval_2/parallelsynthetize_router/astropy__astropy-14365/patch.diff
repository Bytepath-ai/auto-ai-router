```diff
--- a/astropy/io/ascii/qdp.py
+++ b/astropy/io/ascii/qdp.py
@@ -59,7 +59,7 @@
         _new_re = rf"NO({sep}NO)+"
         _data_re = rf"({_decimal_re}|NO|[-+]?nan)({sep}({_decimal_re}|NO|[-+]?nan))*)"
         _type_re = rf"^\s*((?P<command>{_command_re})|(?P<new>{_new_re})|(?P<data>{_data_re})?\s*(\!(?P<comment>.*))?\s*$"
-        _line_type_re = re.compile(_type_re)
+        _line_type_re = re.compile(_type_re, re.IGNORECASE)
         _line_type_re_cache[sep] = _line_type_re
     line = line.strip()
     if not line:
@@ -275,7 +275,7 @@
 
         command = line_dict["command"]
         if command is not None:
-            _interpret_err_lines(command, lines, line_nos)
+            _interpret_err_lines(command.upper(), lines, line_nos)
         elif line_dict["new"] is not None:
             if current_rows is not None and len(current_rows) > 0:
                 _finalize_previous_table(

```